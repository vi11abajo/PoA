# üö® MetaMask Circuit Breaker Solutions

## –ß—Ç–æ —Ç–∞–∫–æ–µ Circuit Breaker?
Circuit Breaker - —ç—Ç–æ –∑–∞—â–∏—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º MetaMask, –∫–æ—Ç–æ—Ä—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º.

## üîç –ü—Ä–∏–∑–Ω–∞–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ Circuit Breaker:
- –û—à–∏–±–∫–∞: `"Execution prevented because the circuit breaker is open"`
- –í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
- Read-only –≤—ã–∑–æ–≤—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å

## üõ† –†–µ—à–µ–Ω–∏—è:

### 1. **–ü–æ–¥–æ–∂–¥–∞—Ç—å** ‚è∞
- Circuit Breaker –æ–±—ã—á–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5-15 –º–∏–Ω—É—Ç
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è

### 2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å MetaMask** üîÑ
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ MetaMask
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ ‚Üí –°–±—Ä–æ—Å–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç (Reset Account)
3. –ò–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä
```

### 3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å** üåê
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
console.log('Current network:', await window.ethereum.request({method: 'eth_chainId'}));
console.log('Expected network:', '0xa7c5c'); // 688688 –≤ hex
```

### 4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞** üìç
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
console.log('Contract address:', window.tournamentManager.config.CONTRACT_ADDRESS);
// –û–∂–∏–¥–∞–µ—Ç—Å—è: 0x454064eA4517A80b0388EEeFFFBf2Efb85a86061
```

### 5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π RPC** üîó
- –ò–∑–º–µ–Ω–∏—Ç–µ RPC URL –≤ MetaMask –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- Pharos Testnet RPC: `https://testnet.dplabs-internal.com`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:
```
–û—Ç–∫—Ä–æ–π—Ç–µ: tournament/test-contract.html
–ù–∞–∂–º–∏—Ç–µ: "Test Circuit Breaker"
```

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å circuit breaker
await window.tournamentManager.checkCircuitBreakerStatus();

// –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π read-only –≤—ã–∑–æ–≤
await window.tournamentManager.contract.methods.tournamentCounter().call();

// –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
await window.web3.eth.getCode('0x454064eA4517A80b0388EEeFFFBf2Efb85a86061');
```

## üîÑ Fallback —Ä–µ–∂–∏–º:
–ï—Å–ª–∏ circuit breaker –∞–∫—Ç–∏–≤–µ–Ω, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –õ–∏–¥–µ—Ä–±–æ—Ä–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –ü–æ–∑–∂–µ –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–ª–æ–∫—á–µ–π–Ω—É

## ‚ö†Ô∏è –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ç–∏ Pharos Testnet**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–µ–ø–ª–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**  
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∫–æ—à–µ–ª–µ–∫ (OKX –≤–º–µ—Å—Ç–æ MetaMask)**
4. **–°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Ç—É—Ä–Ω–∏—Ä–∞**

## üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
```javascript
// –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
window.tournamentLobby.healthCheck();

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
console.log('TournamentManager connected:', window.tournamentManager?.connected);
console.log('Wallet connected:', window.walletConnector?.connected);
console.log('Current account:', window.walletConnector?.account);
```

---

*–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–º, –ø–æ—ç—Ç–æ–º—É —Ç—É—Ä–Ω–∏—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.*